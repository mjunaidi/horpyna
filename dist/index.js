require("source-map-support").install(),module.exports=function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return e[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=u(a),i=n(5),l=u(i),c=n(4),f=u(c),s=n(8),h=u(s),p=n(6),v=u(p),_=n(3),d=u(_),y=n(11),b=u(y),C=n(13),g=u(C),O=n(14),E=u(O),N=n(10),w=u(N),k=n(9),m=u(k),j=n(7),P=r(j),A=n(12),T=r(A);t["default"]={Component:o["default"],Channel:l["default"],InputChannel:f["default"],OutputChannel:h["default"],CallbackChannel:v["default"],ChannelManager:d["default"],Joint:b["default"],State:g["default"],Structure:E["default"],Request:w["default"],Response:m["default"],CHANNEL:P,ERROR:T}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),l=u(i),c=n(4),f=u(c),s=n(6),h=u(s),p=n(8),v=u(p),_=n(9),d=u(_),y=n(10),b=u(y),C=n(11),g=u(C),O=n(13),E=u(O),N=n(14),w=u(N),k=n(7),m=r(k),j=n(12),P=r(j),A=function(){function e(t){a(this,e),this._state=new E["default"],this._structure=new w["default"],this._inputChannelManager=new l["default"],this._outputChannelManager=new l["default"],this.createInputChannel(m.DEFAULT_CHANNEL),this.createOutputChannel(m.DEFAULT_CHANNEL),this.createOutputChannel(m.ERROR_CHANNEL),this.onInit(t,this.getStructure())}return o(e,[{key:"onInit",value:function(e,t){}},{key:"onNext",value:function(e,t,n){t.send(e.getValue())}},{key:"setInput",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?m.DEFAULT_CHANNEL:arguments[1];return this.next(new b["default"](e,null,this.getInputChannel(t)))}},{key:"next",value:function(e){var t=this,n=new d["default"](this._getResponseCallback());return setTimeout(function(){try{t.onNext(e,n,t._prepareRunStructure(e,n))}catch(r){n.send(r,m.ERROR_CHANNEL)}},0),this}},{key:"_prepareRunStructure",value:function(e,t){return function(){}}},{key:"createJoint",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?m.DEFAULT_CHANNEL:arguments[1],n=arguments.length<=2||void 0===arguments[2]?m.DEFAULT_CHANNEL:arguments[2];return new g["default"](this.getOutputChannel(t),e.getInputChannel(n))}},{key:"addCallback",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?m.DEFAULT_CHANNEL:arguments[1];return new g["default"](this.getOutputChannel(t),new h["default"](e))}},{key:"_getResponseCallback",value:function(){var e=this;return function(t,n){e.getOutputChannel(n).emitValue(t)}}},{key:"getStructure",value:function(){return this._structure}},{key:"setState",value:function(e){return this._state.setState(e),this}},{key:"getState",value:function(){return this._state.getState()}},{key:"clearState",value:function(){return this._state.clearState(),this}},{key:"isInputChannel",value:function(){var e=arguments.length<=0||void 0===arguments[0]?m.DEFAULT_CHANNEL:arguments[0];return this._inputChannelManager.isChannelByName(e)}},{key:"isOutputChannel",value:function(){var e=arguments.length<=0||void 0===arguments[0]?m.DEFAULT_CHANNEL:arguments[0];return this._outputChannelManager.isChannelByName(e)}},{key:"getInputChannel",value:function(){var e=arguments.length<=0||void 0===arguments[0]?m.DEFAULT_CHANNEL:arguments[0];if(this.isInputChannel(e)===!1)throw Error(P.NON_EXIST_CHANNEL);return this._inputChannelManager.getChannel(e)}},{key:"getOutputChannel",value:function(){var e=arguments.length<=0||void 0===arguments[0]?m.DEFAULT_CHANNEL:arguments[0];if(this.isOutputChannel(e)===!1)throw Error(P.NON_EXIST_CHANNEL);return this._outputChannelManager.getChannel(e)}},{key:"_getInputChannelSetValueCallback",value:function(){var e=this;return function(t,n,r){e.next(new b["default"](t,n,r))}}},{key:"createInputChannel",value:function(e){if(this.isInputChannel(e)===!0)throw Error(P.UNIQUE_NAME_INPUT_CHANNEL);return this._inputChannelManager.addChannel(new f["default"](e,this._getInputChannelSetValueCallback())),this}},{key:"createOutputChannel",value:function(e){if(this.isOutputChannel(e)===!0)throw Error(P.UNIQUE_NAME_OUTPUT_CHANNEL);return this._outputChannelManager.addChannel(new v["default"](e)),this}}]),e}();t["default"]=A},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];n(this,e),this._channels=t}return r(e,[{key:"isChannelByName",value:function(e){return"undefined"!=typeof this.getChannel(e)}},{key:"isChannel",value:function(e){return this.getChannels().some(function(t){return t===e})}},{key:"addChannel",value:function(e){this._channels.push(e)}},{key:"getChannel",value:function(e){return this._channels.find(function(t){return t.getName()===e})}},{key:"getChannels",value:function(){return this._channels}}]),e}();t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(5),c=r(l),f=function(e){function t(e,n){var r=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];u(this,t);var o=a(this,Object.getPrototypeOf(t).call(this,e,r));return n&&o.setCallback(n),o}return o(t,e),i(t,[{key:"setCallback",value:function(e){return this._onSetValueCallback=e,this}},{key:"setValue",value:function(e,t){this._onSetValueCallback(e,t,this)}}]),t}(c["default"]);t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),c=r(l),f=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];u(this,t);var r=a(this,Object.getPrototypeOf(t).call(this,n));return r._name=e,r}return o(t,e),i(t,[{key:"getName",value:function(){return this._name}}]),t}(c["default"]);t["default"]=f},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(4),f=u(c),s=n(7),h=r(s),p=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];a(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,h.DEFAULT_CHANNEL,void 0,n));return r.setCallback(e),r}return i(t,e),l(t,[{key:"setCallback",value:function(e){return this._callback=e,this}},{key:"setValue",value:function(e,t){this._callback(e,t)}}]),t}(f["default"]);t["default"]=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DEFAULT_CHANNEL="channel_default",t.ERROR_CHANNEL="channel_error"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(5),c=r(l),f=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return u(this,t),a(this,Object.getPrototypeOf(t).call(this,e,n))}return o(t,e),i(t,[{key:"emitValue",value:function(e){var t=this,n=this.getChannels();n.forEach(function(n){n.setValue(e,t)})}}]),t}(c["default"]);t["default"]=f},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(7),i=r(o),l=function(){function e(t){u(this,e),this._onSendCallback=t}return a(e,[{key:"send",value:function(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?i.DEFAULT_CHANNEL:arguments[1];return this._onSendCallback(e,t),this}}]),e}();t["default"]=l},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,r,u){n(this,e),this._value=t,this._source=r,this._target=u}return r(e,[{key:"getValue",value:function(){return this._value}},{key:"getTarget",value:function(){return this._target}},{key:"getSource",value:function(){return this._source}}]),e}();t["default"]=u},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(12),i=r(o),l=function(){function e(t,n){u(this,e),this._source=t,this._target=n,this._join(this.getSource(),this.getTarget())}return a(e,[{key:"_join",value:function(e,t){if(t.isChannel(e)!==!1||e.isChannel(t)!==!1)throw Error(i.ONE_JOINT_PER_CHANNEL_PAIR);return t.addChannel(e),e.addChannel(t),this}},{key:"getSource",value:function(){return this._source}},{key:"getTarget",value:function(){return this._target}}]),e}();t["default"]=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(t.ONE_JOINT_PER_CHANNEL_PAIR="two channels can have only one joint",t.NON_EXIST_CHANNEL="channel do not exist",t.UNIQUE_NAME_CHANNEL="channel need unique name");t.UNIQUE_NAME_INPUT_CHANNEL=n,t.UNIQUE_NAME_OUTPUT_CHANNEL=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];n(this,e),this._value=t}return r(e,[{key:"setState",value:function(e){this._value=e}},{key:"clearState",value:function(){this._value=null}},{key:"getState",value:function(){return this._value}}]),e}();t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(15),i=r(o),l=function(){function e(){u(this,e),this._components=new i["default"],this._joints=new i["default"]}return a(e,[{key:"createComponent",value:function(e,t,n){var r=new t(n);return this._components.add(e,r),r}},{key:"getComponent",value:function(e){return this._components.get(e)}},{key:"createJoint",value:function(e,t,n,r,u){var a=this._components.get(t),o=this._components.get(r),i=a.createJoint(o,n,u);return this._joints.add(e,i),i}},{key:"getJoint",value:function(e){return this._joints.get(e)}}]),e}();t["default"]=l},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){n(this,e),this.items={}}return r(e,[{key:"add",value:function(e,t){this.items[e]=t}},{key:"has",value:function(e){return e in this.items}},{key:"get",value:function(e){return this.items[e]}}]),e}();t["default"]=u}]);